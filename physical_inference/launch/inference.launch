<launch>
    <!-- Argument to select the label space -->
    <!-- Use 'ade20k' to filter based on the yaml file, or any other value to process all objects -->
    <arg name="label_space" default="ade20k" />

    <!-- Start the Python service for physical property inference -->
    <node name="physical_inference_server"
          pkg="physical_inference"
          type="module.py"
          output="screen">
    	<param name="use_legacy_rendering" value="false"/>
    </node>

    <!-- Start the C++ node for subscribing to Hydra's output -->
    <node name="physical_inference_node"
          pkg="physical_inference"
          type="physical_inference_node"
          output="screen">
        <!-- Remap the generic 'input_mesh' topic to the actual mesh topic from hydra -->
        <remap from="input_mesh" to="/hydra_dsg_visualizer/dsg_mesh" />

        <!-- Load parameters into the node's private namespace -->
        <rosparam command="load" file="$(find physical_inference)/config/ade20k.yaml" />
        <param name="label_space" value="$(arg label_space)" />
    </node>
</launch>
